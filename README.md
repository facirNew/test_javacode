# Тестовое задание Python

![Language](https://img.shields.io/badge/language-Python-blue.svg)

## Описание задания

  [Задание](https://github.com/facirNew/test_javacode/blob/main/spec.pdf)
  
  Проект содержит приложение, которое принимает два запроса:
   - POST api/v1/wallets/{WALLET_UUID}/operation - изменение баланса кошелька в базе данных
   - GET api/v1/wallets/{WALLET_UUID} - получение баланса кошелька

  В базу данных добавлен кошелек с uuid `df5f771f-89d5-4bc3-9446-723e2747e848`
  
  Все эндпоинты представлены в Swagger по адресу `/api/docs`

  ## Выполнение задания
  Для реализации данного тестового задания применены следующий стек технологий:

-   Python 3.10
-   FastAPI 0.115.6
-   UviCorn 0.34
-   SQLAlchemy 2.0.37
-   Redis 5.2.1
-   Postgresql 13.7
-   Liquibase 4.31
-   Pytest 3.4

## Запуск приложения
 Запуск приложения возможен двумя способами:
  - с помощью контейнеризации Docker Compose
  - локально

 ### Запуск приложения в контейнерах Docker Compose
1. Скопировать код проекта
2. Создать файл .env по образцу .env.example и указать в нём необходимые данные
3. Создать и запустить контейнеры выполнив команду в терминале:

```
$ docker compose up -d
```

4.  Приложение будет доступно по URL адресу  [http://localhost:91/](http://localhost:91/)

### Запуск приложения локально
1.  Скопировать код проекта на локальную машину.
2.  Запустить базы данных и применить миграции:
```sh
docker compose -f docker-compose-local.yml up -d
```


4.  Создать и активировать виртуальное окружение выполнив команды в терминале:

```
$ python3 -m venv venv
$ source venv/bin/activate
```

5.  Установить зависимости проекта с помощью команд в терминале:

```
$ pip install -r requirements.dev.txt
```

5. Создать файл .env по образцу .env.example и указать в нём необходимые данные

6.  Запустить север приложения выполнив команду в терминале:
```
$ uvicorn backend.app:app
```

7. Приложение будет доступно по URL адресу  [http://localhost:8000/](http://localhost:8000/)
8. Запуск тестов можно осуществить командой:
```
pytest
```
